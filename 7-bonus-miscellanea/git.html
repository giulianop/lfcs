<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>git - Linux Foundation Certified System Administrator (LFCS) Exam Personal Notes </title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/index.html"><strong aria-hidden="true">1.</strong> Essential Commands - 25%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../1-essential-commands/a.html"><strong aria-hidden="true">1.1.</strong> Log into local & remote graphical and text mode consoles</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/b.html"><strong aria-hidden="true">1.2.</strong> Search for files</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/c.html"><strong aria-hidden="true">1.3.</strong> Evaluate and compare the basic file system features and options</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/d.html"><strong aria-hidden="true">1.4.</strong> Compare and manipulate file content</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/e.html"><strong aria-hidden="true">1.5.</strong> Use input-output redirection</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/f.html"><strong aria-hidden="true">1.6.</strong> Analyze text using basic regular expressions</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/g.html"><strong aria-hidden="true">1.7.</strong> Archive, backup, compress, unpack, and uncompress files</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/h.html"><strong aria-hidden="true">1.8.</strong> Create, delete, copy, and move files and directories</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/i.html"><strong aria-hidden="true">1.9.</strong> Create and manage hard and soft links</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/l.html"><strong aria-hidden="true">1.10.</strong> List, set, and change standard file permissions</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/m.html"><strong aria-hidden="true">1.11.</strong> Read, and use system documentation</a></li><li class="chapter-item expanded "><a href="../1-essential-commands/n.html"><strong aria-hidden="true">1.12.</strong> Manage access to the root account</a></li></ol></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/index.html"><strong aria-hidden="true">2.</strong> Operation of Running Systems - 20%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/a.html"><strong aria-hidden="true">2.1.</strong> Boot, reboot, and shut down a system safely</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/b.html"><strong aria-hidden="true">2.2.</strong> Boot or change system into different operating modes</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/c.html"><strong aria-hidden="true">2.3.</strong> Install, configure and troubleshoot bootloaders</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/d.html"><strong aria-hidden="true">2.4.</strong> Diagnose and manage processes</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/e.html"><strong aria-hidden="true">2.5.</strong> Locate and analyze system log files</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/f.html"><strong aria-hidden="true">2.6.</strong> Schedule tasks to run at a set date and time</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/g.html"><strong aria-hidden="true">2.7.</strong> Verify completion of scheduled jobs</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/h.html"><strong aria-hidden="true">2.8.</strong> Update software to provide required functionality and security</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/i.html"><strong aria-hidden="true">2.9.</strong> Verify the integrity and availability of resources</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/l.html"><strong aria-hidden="true">2.10.</strong> Verify the integrity and availability of key processes</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/m.html"><strong aria-hidden="true">2.11.</strong> Change kernel runtime parameters, persistent and non-persistent</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/n.html"><strong aria-hidden="true">2.12.</strong> Use scripting to automate system maintenance tasks</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/o.html"><strong aria-hidden="true">2.13.</strong> Manage the startup process and services</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/p.html"><strong aria-hidden="true">2.14.</strong> List and identify SELinux/AppArmor file and process contexts</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/q.html"><strong aria-hidden="true">2.15.</strong> Manage software</a></li><li class="chapter-item expanded "><a href="../2-operation-of-running-systems/r.html"><strong aria-hidden="true">2.16.</strong> Identify the component of a Linux distribution that a file belongs to</a></li></ol></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/index.html"><strong aria-hidden="true">3.</strong> User and Group Management - 10%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../3-user-and-group-management/a.html"><strong aria-hidden="true">3.1.</strong> Create, delete, and modify local user accounts</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/b.html"><strong aria-hidden="true">3.2.</strong> Create, delete, and modify local groups and group memberships</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/c.html"><strong aria-hidden="true">3.3.</strong> Manage system-wide environment profiles</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/d.html"><strong aria-hidden="true">3.4.</strong> Manage template user environment</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/e.html"><strong aria-hidden="true">3.5.</strong> Configure user resource limits</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/f.html"><strong aria-hidden="true">3.6.</strong> Manage user privileges</a></li><li class="chapter-item expanded "><a href="../3-user-and-group-management/g.html"><strong aria-hidden="true">3.7.</strong> Configure PAM</a></li></ol></li><li class="chapter-item expanded "><a href="../4-networking/index.html"><strong aria-hidden="true">4.</strong> Networking - 12%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../4-networking/a.html"><strong aria-hidden="true">4.1.</strong> Configure networking and hostname resolution statically or dynamically</a></li><li class="chapter-item expanded "><a href="../4-networking/b.html"><strong aria-hidden="true">4.2.</strong> Configure network services to start automatically at boot</a></li><li class="chapter-item expanded "><a href="../4-networking/c.html"><strong aria-hidden="true">4.3.</strong> Implement packet filtering (iptables, firewalld or ufw)</a></li><li class="chapter-item expanded "><a href="../4-networking/d.html"><strong aria-hidden="true">4.4.</strong> Start, stop, and check the status of network services</a></li><li class="chapter-item expanded "><a href="../4-networking/e.html"><strong aria-hidden="true">4.5.</strong> Statically route IP traffic</a></li><li class="chapter-item expanded "><a href="../4-networking/f.html"><strong aria-hidden="true">4.6.</strong> Synchronize time using other network peers</a></li></ol></li><li class="chapter-item expanded "><a href="../5-service-configuration/index.html"><strong aria-hidden="true">5.</strong> Service Configuration - 20%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5-service-configuration/a.html"><strong aria-hidden="true">5.1.</strong> Configure a caching DNS server</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/b.html"><strong aria-hidden="true">5.2.</strong> Maintain a DNS zone</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/c.html"><strong aria-hidden="true">5.3.</strong> Configure email aliases</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/d.html"><strong aria-hidden="true">5.4.</strong> Configure SSH servers and clients</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/e.html"><strong aria-hidden="true">5.5.</strong> Restrict access to the HTTP proxy server</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/f.html"><strong aria-hidden="true">5.6.</strong> Configure an IMAP and IMAPS service</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/g.html"><strong aria-hidden="true">5.7.</strong> Query and modify the behavior of system services at various operating modes</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/h.html"><strong aria-hidden="true">5.8.</strong> Configure an HTTP server</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/i.html"><strong aria-hidden="true">5.9.</strong> Configure HTTP server log files</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/l.html"><strong aria-hidden="true">5.10.</strong> Configure a database server</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/m.html"><strong aria-hidden="true">5.11.</strong> Restrict access to a web page</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/n.html"><strong aria-hidden="true">5.12.</strong> Manage and configure containers</a></li><li class="chapter-item expanded "><a href="../5-service-configuration/o.html"><strong aria-hidden="true">5.13.</strong> Manage and configure Virtual Machines</a></li></ol></li><li class="chapter-item expanded "><a href="../6-storage-management/index.html"><strong aria-hidden="true">6.</strong> Storage Management - 13%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../6-storage-management/a.html"><strong aria-hidden="true">6.1.</strong> List, create, delete, and modify physical storage partitions</a></li><li class="chapter-item expanded "><a href="../6-storage-management/b.html"><strong aria-hidden="true">6.2.</strong> Manage and configure LVM storage</a></li><li class="chapter-item expanded "><a href="../6-storage-management/c.html"><strong aria-hidden="true">6.3.</strong> Create and configure encrypted storage</a></li><li class="chapter-item expanded "><a href="../6-storage-management/d.html"><strong aria-hidden="true">6.4.</strong> Configure systems to mount file systems at or during boot</a></li><li class="chapter-item expanded "><a href="../6-storage-management/e.html"><strong aria-hidden="true">6.5.</strong> Configure and manage swap space</a></li><li class="chapter-item expanded "><a href="../6-storage-management/f.html"><strong aria-hidden="true">6.6.</strong> Create and manage RAID devices</a></li><li class="chapter-item expanded "><a href="../6-storage-management/g.html"><strong aria-hidden="true">6.7.</strong> Configure systems to mount file systems on demand</a></li><li class="chapter-item expanded "><a href="../6-storage-management/h.html"><strong aria-hidden="true">6.8.</strong> Create, manage and diagnose advanced file system permissions</a></li><li class="chapter-item expanded "><a href="../6-storage-management/i.html"><strong aria-hidden="true">6.9.</strong> Setup user and group disk quotas for filesystems</a></li><li class="chapter-item expanded "><a href="../6-storage-management/l.html"><strong aria-hidden="true">6.10.</strong> Create and configure file systems</a></li></ol></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/index.html"><strong aria-hidden="true">7.</strong> Bonus/Miscellanea - 0%</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/bash.html"><strong aria-hidden="true">7.1.</strong> bash</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/git.html" class="active"><strong aria-hidden="true">7.2.</strong> git</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/grub.html"><strong aria-hidden="true">7.3.</strong> Repair the GRUB from live CD or USB stick</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/ca-certs.html"><strong aria-hidden="true">7.4.</strong> Install a CA certificate</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/self-signed-ssl-cert.html"><strong aria-hidden="true">7.5.</strong> Create a self-signed SSL certificate for Apache web server</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/tls-issues.html"><strong aria-hidden="true">7.6.</strong> Debugging TLS handshake issues</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/dns.html"><strong aria-hidden="true">7.7.</strong> DNS essentials</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/net-manager.html"><strong aria-hidden="true">7.8.</strong> Network-Manager</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/ssh-tunneling.html"><strong aria-hidden="true">7.9.</strong> SSH-tunneling</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/corrupted-chars.html"><strong aria-hidden="true">7.10.</strong> Debugging corrupted character encoding issues</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/mic.html"><strong aria-hidden="true">7.11.</strong> How to test a microphone</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/ssh-login.html"><strong aria-hidden="true">7.12.</strong> Automate login via SSH</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/edid.html"><strong aria-hidden="true">7.13.</strong> How to fix low screen resolution</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/debian.html"><strong aria-hidden="true">7.14.</strong> Non-Free Firmware for Debian</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/nvidia.html"><strong aria-hidden="true">7.15.</strong> How to fix Nvidia graphics card problems</a></li><li class="chapter-item expanded "><a href="../https://bios-pw.org/#.html"><strong aria-hidden="true">7.16.</strong> Quick and easy way to recover BIOS passwords on laptops</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/failed.html"><strong aria-hidden="true">7.17.</strong> Recover from a failed installation</a></li><li class="chapter-item expanded "><a href="../7-bonus-miscellanea/tips-tricks.html"><strong aria-hidden="true">7.18.</strong> Tips & tricks</a></li></ol></li><li class="chapter-item expanded "><a href="../references.html"><strong aria-hidden="true">8.</strong> References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Linux Foundation Certified System Administrator (LFCS) Exam Personal Notes </h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/giulianopz/lfcs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/giulianopz/lfcs/edit/main/domains/7-bonus-miscellanea/git.md " title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="git"><a class="header" href="#git">git</a></h2>
<h2 id="general"><a class="header" href="#general">General</a></h2>
<p>Initialize a directory as a git repository hosted on GitHub:</p>
<pre><code>touch README.md
git init
git add README.md
git commit -m &quot;first commit&quot;
git remote add origin https://github.com/{user-name}/{repository-name}.git
git push -u origin main
</code></pre>
<p>Create a minimal configuration for git in your <code>~/.gitconfig</code>:</p>
<pre><code>[user]
    name = [username]
    email = [email-address]

# choose a difftool
[diff]
    guitool = meld

[difftool &quot;meld&quot;]
    cmd = meld \&quot;$REMOTE\&quot; \&quot;$LOCAL\&quot; --label \&quot;DIFF (ORIGINAL MY)\&quot;

# choose a mergetool
[merge]
    tool = meld

[mergetool &quot;meld&quot;]
    cmd = meld \&quot;$LOCAL\&quot; \&quot;$MERGED\&quot; \&quot;$REMOTE\&quot; --output \&quot;$MERGED\&quot;

# store your credentials in a plain-text file
[credential]
        helper = store --file ~/.gitcredentials

# choose a default editor
[core]
        editor = vi
</code></pre>
<p>Show all configuration settings and their location: <code>git config --show-origin --list</code></p>
<h2 id="undo"><a class="header" href="#undo">Undo</a></h2>
<p>Undo an already pushed commit recording a new commit: <code>git revert [&lt;commit&gt;]</code></p>
<p>Note that it only reverts that specific commit and not commits after that. If you want to revert a range of commits, you can do it like this:
<code>git revert [&lt;oldest_commit_hash&gt;]^..[&lt;latest_commit_hash&gt;]</code></p>
<blockquote>
<p>Note: The <code>^</code> in the previous command is required as the first end of the interval is not inclusive.</p>
</blockquote>
<p>To undo a pushed merge: <code>git revert -m 1 [&lt;merge-commit-hash&gt;]</code></p>
<p>The <code>-m 1</code> option tells Git that we want to keep the left side of the merge (which is the branch we had merged into). When you view a merge commit in the output of git log, you will see its parents listed on the line that begins with Merge:</p>
<pre><code>commit 8f937c683929b08379097828c8a04350b9b8e183
Merge: 8989ee0 7c6b236
Author: Ben James &lt;ben@example.com&gt;
Date:   Wed Aug 17 22:49:41 2011 +0100

Merge branch 'gh-pages'
</code></pre>
<p>In this situation, <code>git revert 8f937c6 -m 1</code> will get you the tree as it was in <code>8989ee0</code>, and <code>git revert -m 2</code> will reinstate the tree as it was in <code>7c6b236</code>.</p>
<p>Reverting a revert commit may seem unlikely, but it's actually common when you need for example to create a PR of a feature branch which was merged but then reverted:</p>
<pre><code># fix your code in the feature branch
$ git commit -m &quot;fixed issues in feature-branch'

# create a new branch tracking the target branch of the PR (e.g. develop)
$ git checkout -b revert-the-revert-branch -t develop

# revert the reversion commit by its hash
# you can find find it by inspecting the changelog
# e.g.: 'git log | grep -C5 revert | head'
$ git revert &lt;revert-commit-hash&gt;

# checkout the original feature branch
$ git checkout feature-branch

# merge the revert branch into it
$ git merge revert-the-revert-branch

# resolve the eventual conflicts, commit and recreate the PR
</code></pre>
<p>To throw away not yet pushed changes in your working directory, use instead:
<code>git reset [--soft | --mixed | --hard ] [&lt;commit&gt;]</code></p>
<p><img src="https://i.stack.imgur.com/qRAte.jpg" alt="reset-ops-visually-exaplained" /></p>
<p>Typically, to discard all recent changes resetting the HEAD to the previous commit: <code>git reset --hard HEAD^</code></p>
<p>Alternatively, to reset the current local branch to a particular point in time:
<code>git reset --hard master@{&quot;10 minutes ago&quot;}</code></p>
<p>Remove a file from the staging area: <code>git restore --staged [&lt;filepath&gt;]</code></p>
<p>Undo modifications on the working tree (restore files from latest commited version): <code>git checkout -- index.html</code></p>
<p>Restore file from a custom commit (in current branch): <code>git checkout 6eb715d -- index.html</code></p>
<p>Remove files from the working tree and the index: <code>git rm index.html</code></p>
<p>Remove file only from the index: <code>git rm --cached index.html</code></p>
<p>If you have inadvertently pushed sensitive data or something else that you regret, you can clean up those files with <a href="https://rtyley.github.io/bfg-repo-cleaner/">BFG</a>, a faster alternative to <code>git-filter-branch</code>.</p>
<h2 id="branch"><a class="header" href="#branch">Branch</a></h2>
<p>Show all branches (including the remote ones): <code>git branch -l -a</code></p>
<p>Create and switch to a new branch:<code>git checkout -b [branchname]</code></p>
<p>Move to branch: <code>git checkout [branchname]</code></p>
<p>Checkout to new branch tracking a remote one: <code>git checkout --track origin/[branchname]</code></p>
<p>Rename branch: <code>git branch -m [branchname] [new-branchname]</code></p>
<p>Delete merged branch (only possible if not HEAD): <code>git branch -d [branch-to-delete]</code></p>
<p>Delete not merged branch: <code>git branch -D [branch-to-delete]</code></p>
<p>Delete remote branch: <code>git push origin --delete [branch-to-delete]</code></p>
<p>List branches merged into the HEAD (i.e. tip of current branch): <code>git branch --merged [branchname]</code></p>
<p>List branches that have not been merged:<code>git branch --no-merged [branchname]</code></p>
<blockquote>
<p>Note: By default this applies to only the local branches. The <code>-a</code> flag will show both local and remote branches, and the <code>-r</code> flag shows only the remote branches.</p>
</blockquote>
<p>Return to the previous branch (just as <code>cd -</code>): <code>git checkout -</code></p>
<h2 id="merge"><a class="header" href="#merge">Merge</a></h2>
<p>Merge <code>branchname</code> into the cuurent branch: <code>git merge [branchname]</code></p>
<p>Stop merge (in case of conflicts): <code>git merge --abort</code></p>
<p>Merge only one specific commit: <code>git cherry-pick [073791e7]</code></p>
<p>Review the recent history interactively choosing if deleting some of the latest commits: <code>git rebase -i HEAD~[N]</code></p>
<h2 id="stash"><a class="header" href="#stash">Stash</a></h2>
<p>Show stash history: <code>git stash list</code></p>
<p>Put a specific file into the stash: <code>git stash push -m [&quot;welcome_cart&quot;] [app/views/cart/welcome.html]</code></p>
<p>View the content of the most recent stash commit: <code>git stash show -p</code></p>
<p>View the content of an arbitrary stash: <code>git stash show -p stash@{1}</code></p>
<p>Extract a single file from a stash commit:</p>
<pre><code>git show stash@{0}:[full filename]  &gt;  [newfile]
git show stash@{0}:[./relative filename] &gt; [newfile]
</code></pre>
<p>Apply this stash commit on top of the working tree and remove it from the stash: <code>git stash pop stash@{0}</code></p>
<p>Apply this stash commit on top of the working tree but do not remove it: <code>git stash apply stash@{0}</code></p>
<p>Delete custom stash item: <code>git stash drop stash@{0}</code></p>
<p>Delete complete stash: <code>git stash clear</code></p>
<h2 id="log"><a class="header" href="#log">Log</a></h2>
<p>Show commit logs: <code>git log</code></p>
<blockquote>
<p>Note: git log shows the current <code>HEAD</code> and its ancestry. That is, it prints the commit <code>HEAD</code> points to, then its parent, its parent, and so on. It traverses back through the repo's ancestry, by recursively looking up each commit's parent. <code>git reflog </code>doesn't traverse <code>HEAD</code>'s ancestry at all. The <code>reflog</code> is an ordered list of the commits that <code>HEAD</code> has pointed to: it's undo history for your repo. The reflog isn't part of the repo itself (it's stored separately to the commits themselves) and isn't included in pushes, fetches or clones: it's purely local. Aside: understanding <code>reflog</code> means you can't really lose data from your repo once it's been committed. If you accidentally reset to an older commit, or rebase wrongly, or any other operation that visually &quot;removes&quot; commits, you can use <code>reflog</code> to see where you were before and <code>git reset --hard</code> back to that ref to restore your previous state. Remember, refs imply not just the commit but the entire history behind it. (<a href="https://stackoverflow.com/a/17860179/9109880">source</a>)</p>
</blockquote>
<p>Show only custom commits:</p>
<pre><code>git log --author=&quot;Sven&quot;
git log --grep=&quot;Message&quot;
git log --until=2013-01-01
git log --since=2013-01-01
</code></pre>
<p>Show stats and summary of commits: <code>git log --stat --summary</code></p>
<p>Show history of commits as graph-summary: <code>git log --oneline --graph --all --decorate</code></p>
<p>A nice <a href="https://stackoverflow.com/a/9074343/9109880">trick</a> is to add some aliases in your <code>~/.gitconfig</code> for using <code>git log</code> with a good combination of options, like:</p>
<pre><code>[alias]
lg1 = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(bold yellow)%d%C(reset)' --all
lg2 = log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)' --all
lg = !&quot;git lg1&quot;
</code></pre>
<p>Followh the commit history of a single file: <code>git log --oneline -M --stat --follow -- src/somefile.ts</code></p>
<h2 id="compare"><a class="header" href="#compare">Compare</a></h2>
<p>See lastest changes in a file: <code>git diff [filename]</code></p>
<p>Compare modified files and highlight changes only: <code>git diff --color-words [filename]</code></p>
<p>Compare modified files within the staging area: <code>git diff --staged [filename]</code></p>
<p>Compare branches showing differences line by line: <code>git diff [branch1]..[branch2]</code></p>
<blockquote>
<p>Note: This command combined with the two-dot operator will show you all the commits that “branch2” has that are not in “branch1”. While if used with three dots it will compare the top of the right branch with the common ancestor of the two branches (see <a href="https://devconnected.com/how-to-compare-two-git-branches/">here</a>).</p>
</blockquote>
<p>Compare lines in a file bewtween two branches:
<code>git diff [mybranch]..[master] -- [myfile.cs]</code></p>
<p>Get only the name of the files which are different in the two branches:
<code>git diff –-name-only [mybranch]..[master]</code></p>
<p>To see the commit differences between two branches, use <code>git log</code> and specify the branches that you want to compare.
<code>git log [branch1]..[branch2]</code></p>
<blockquote>
<p>Note: This won't show you the actual file differences between the two branches but only the commits.</p>
</blockquote>
<p>Compare commits:</p>
<pre><code>git diff 6eb715d
git diff 6eb715d..HEAD
git diff 6eb715d..537a09f
</code></pre>
<p>Compare commits of file:</p>
<pre><code>git diff 6eb715d [filename]
git diff 6eb715d..537a09f [filename]
</code></pre>
<p>Compare without caring about whitespaces:</p>
<pre><code>git diff -b 6eb715d..HEAD
git diff --ignore-space-change 6eb715d..HEAD
</code></pre>
<p>This ignores differences even if one line has whitespace where the other line has none:</p>
<pre><code>git diff -w 6eb715d..HEAD
git diff --ignore-all-space 6eb715d..HEAD
</code></pre>
<p>Show what revision and author last modified each line of a file: <code>git blame -L10,+1 [filename]</code></p>
<h2 id="collaborate"><a class="header" href="#collaborate">Collaborate</a></h2>
<p>Clone: <code>git clone https://github.com/user/project.git</code></p>
<p>Clone to local folder: <code>git clone https://github.com/user/project.git ~/dir/folder</code></p>
<p>Get everything ready to commit: <code>git add .</code></p>
<p>Get custom file ready to commit: <code>git add index.html</code></p>
<p>Commit changes: <code>git commit -m &quot;Message&quot;</code></p>
<p>Commit changes with title and description: <code>git commit -m &quot;Title&quot; -m &quot;Description...&quot;</code></p>
<p>Add and commit in one step: <code>git commit -a -m &quot;Message&quot;</code></p>
<p>Rewrite the most recent <strong>not-pushed</strong> commit message: <code>git commit --amend -m &quot;New Message&quot;</code></p>
<p>If the commit was pushed, it will take more steps to rewrite it:</p>
<ul>
<li>use <code>git rebase -i HEAD~n</code> to display a list of the last nn commits in your default text editor</li>
<li>replace <code>pick</code> with <code>reword</code> before each commit message that needs to be changed</li>
<li>save and close the commit list file</li>
<li>in each resulting commit file, type the new commit message, save the file, and close it</li>
<li>force push the amended commits using <code>git push --force</code>.</li>
</ul>
<p>Fetch all changes from the remote and remove deleted branches: <code>git fetch -a -p</code></p>
<p>Push to a branch and set it as the default upstream: <code>git push -u origin [master]</code></p>
<p>Pull a specific branch: <code>git pull origin [branchname]</code></p>
<p>Resolve conflicts after attempted merge by means of a mergetool (see the config file above in the 'General' section): <code>git mergetool</code></p>
<p>Sync a fork with original repository:</p>
<pre><code class="language-bash"># Add a new remote repository with 'upstream' alias
git remote add upstream https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY.git
# Sync your fork
git fetch upstream
git checkout master
git merge upstream/master
</code></pre>
<h2 id="ignore"><a class="header" href="#ignore">Ignore</a></h2>
<p>Add a <code>.gitignore</code> file at the root of the repository to instruct git to not track specific file types or filepaths: <code>vi .gitignore</code></p>
<p>You can create your own file from an online template generator: https://www.toptal.com/developers/gitignore</p>
<p>To check what gitignore rule is causing a particular path to be ignored, run git check-ignore:
<code>git check-ignore -v [path/to/check]</code></p>
<h2 id="signing-commits"><a class="header" href="#signing-commits">Signing commits</a></h2>
<p>Sign individual commits with:</p>
<ul>
<li><code>git commit -s [..]</code>, to add a <code>Signed-off-by</code> trailer by the committer at the end of the commit log message,</li>
<li><code>git commit -S [&lt;keyid&gt;] [..]</code>, to sign the commit with a GPG key.</li>
</ul>
<p>For the second option you will need to upload the public key to your git hosting service (e.g. GitHub) and configure git locally to use a default key:</p>
<pre><code>git config [--global] user.signingkey &lt;keyid&gt;
git config [--global] commit.gpgsign true
</code></pre>
<p>To retrieve the id of an existing GPG key, run: <code>gpg --list-secret-keys --keyid-format LONG</code>. The key id is the alphanumeric string after the string <code>sec rsaXXXX/</code> in the command output. Then you can use hte id to print out the public key: <code>gpg --armor --export &lt;keyid&gt;</code>.</p>
<h2 id="archive"><a class="header" href="#archive">Archive</a></h2>
<p>Create a zip-archive: <code>git archive --format zip --output filename.zip master</code></p>
<h2 id="security"><a class="header" href="#security">Security</a></h2>
<p>To encrypt your private data inside a git repo: https://git-secret.io/</p>
<h2 id="large-file-storage"><a class="header" href="#large-file-storage">Large File Storage</a></h2>
<p>To version large files (.wav, .pdf, etc) in a git repository: https://git-lfs.github.com/ (it's not free)</p>
<h2 id="add-current-branch-name-to-bash-prompt"><a class="header" href="#add-current-branch-name-to-bash-prompt">Add current branch name to bash prompt</a></h2>
<p>Put the following lines in your <code>.bashrc</code>:</p>
<pre><code>parse_git_branch() {
    git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}

export PS1='\[\e]0;\u@\h: \w\a\]\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\e[91m\]$(parse_git_branch)\[\033[00m\]\$ '
</code></pre>
<p>This should modify the prompt as follows:</p>
<p><img src="../../assets/img/git-branch-name-bash-prompt.png" alt="git-branch-name-bash-prompt" /></p>
<p><a href="https://wiki.archlinux.org/title/Bash/Prompt_customization">PS1</a> is the primary prompt (in bash) which is displayed before each command, thus it is the one most people customize. In the lines above PS1 is set to a string composed of <a href="https://misc.flogisoft.com/bash/tip_colors_and_formatting">backslash-escaped characters</a> that are expanded dynamically every time the prompt shows up.</p>
<blockquote>
<p>Warning: Using double quotes  (<code>&quot;</code>) instead of single quotes (<code>'</code>) will result in the function <code>parse_git_branch</code> to be evaluated only once (when you first enter the git dir).</p>
</blockquote>
<hr />
<h3 id="resources-to-learn-more"><a class="header" href="#resources-to-learn-more">Resources to learn more:</a></h3>
<ol>
<li><a href="https://learngitbranching.js.org/">Learn Git Branching</a></li>
<li><a href="https://git-scm.com/book/en/v2">Pro Git</a></li>
<li><a href="https://ohshitgit.com/">Oh Shit, Git!?!</a></li>
<li><a href="https://gist.github.com/hofmannsven/6814451">Git Cheatsheet</a></li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../7-bonus-miscellanea/bash.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../7-bonus-miscellanea/grub.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../7-bonus-miscellanea/bash.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../7-bonus-miscellanea/grub.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
